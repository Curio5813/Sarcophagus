{% load static %}
<section class="tournaments-section spad">
    <div class="container">
        <div class="section-title">
            <h2>Todos os Campeonatos</h2>
        </div>
        <div class="row">
            {% if tournaments %}
                {% for tournament in tournaments %}
                    <div class="col-md-6">
                        <div class="tournament-item">
                            <div class="ti-notic">Tournament</div>
                            <div class="ti-content">
                                <div class="ti-thumb">
                                    <!-- Exibe a capa do campeonato -->
                                    {% if tournament.capa %}
                                        <img
                                            src="{{ tournament.capa.url }}"
                                            alt="{{ tournament.name }}"
                                            style="
                                                width: 100%;
                                                height: auto;
                                                max-width: 500px;
                                                max-height: 723px;
                                                display: block;
                                                object-fit: contain;">
                                    {% else %}
                                        <img
                                            src="{% static 'img/tournament/default.jpg' %}"
                                            alt="Capa padrão"
                                            style="
                                                width: 100%;
                                                height: auto;
                                                max-width: 500px;
                                                max-height: 723px;
                                                display: block;
                                                object-fit: contain;">
                                    {% endif %}
                                </div>
                                <div class="ti-text">
                                    <h4>{{ tournament.name }}</h4>
                                    <ul>
                                        <li><span>Início:</span> {{ tournament.start_date|date:"d/m/Y H:i" }}</li>
                                        <li><span>Término:</span> {{ tournament.end_date|date:"d/m/Y H:i" }}</li>
                                        <li><span>Participantes:</span> {{ tournament.participants.count }}/{{ tournament.max_participants }}</li>
                                        <li><span>Autor:</span> {{ tournament.created_by.membro }}</li>
                                    </ul>
                                    <p>{{ tournament.description }}</p>
                                    <a href="{% url 'tournament_detail' tournament.pk %}" class="site-btn">Ver Detalhes</a>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <p>Nenhum campeonato encontrado.</p>
            {% endif %}
        </div>
    </div>
</section>
